<h2>Sign Up</h2>
<p ng-show="userCtrl.signupErrMsg" class="text-danger">Account with that email already exists. Please use a new email or <a ui-sref="shop.login">login.</a></p>
<form ng-submit="userCtrl.signup()">
  <div class="form-group">
    <label for="name">Name *</label>
    <input ng-model="userCtrl.user.name" type="text" class="form-control" placeholder="Name" required>
  </div>
  <div class="form-group">
    <label for="email">Email *</label>
    <input ng-model="userCtrl.user.email" type="email" class="form-control" placeholder="Email" required>
  </div>
  <div class="form-group">
    <label for="password">Password *</label>
    <input id="password" ng-model="userCtrl.user.password" type="password" class="form-control" placeholder="Password" required>
  </div>
  <div class="form-group">
    <label for="password">Confirm Password *</label>
    <input id="confirm_password" type="password" class="form-control" placeholder="Password" required>
  </div>
  <button type="submit" name="action" class="btn btn-default submit-btn">Sign Up</button>
</form>

<script>
  var password = document.getElementById("password")
  , confirm_password = document.getElementById("confirm_password");

  function validatePassword(){
    if(password.value != confirm_password.value) {
      confirm_password.setCustomValidity("Passwords Don't Match");
    } else {
      confirm_password.setCustomValidity('');
    }
  }

  password.onchange = validatePassword;
  confirm_password.onkeyup = validatePassword;
</script>

